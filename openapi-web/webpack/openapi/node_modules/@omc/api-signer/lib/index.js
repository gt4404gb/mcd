/*! For license information please see index.js.LICENSE.txt */
var r={106:function(r){var e={utf8:{stringToBytes:function(r){return e.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(e.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],t=0;t<r.length;t++)e.push(255&r.charCodeAt(t));return e},bytesToString:function(r){for(var e=[],t=0;t<r.length;t++)e.push(String.fromCharCode(r[t]));return e.join("")}}};r.exports=e},718:function(r){var e,t;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,e){return r<<e|r>>>32-e},rotr:function(r,e){return r<<32-e|r>>>e},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var e=0;e<r.length;e++)r[e]=t.endian(r[e]);return r},randomBytes:function(r){for(var e=[];r>0;r--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(r){for(var e=[],t=0,n=0;t<r.length;t++,n+=8)e[n>>>5]|=r[t]<<24-n%32;return e},wordsToBytes:function(r){for(var e=[],t=0;t<32*r.length;t+=8)e.push(r[t>>>5]>>>24-t%32&255);return e},bytesToHex:function(r){for(var e=[],t=0;t<r.length;t++)e.push((r[t]>>>4).toString(16)),e.push((15&r[t]).toString(16));return e.join("")},hexToBytes:function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(parseInt(r.substr(t,2),16));return e},bytesToBase64:function(r){for(var t=[],n=0;n<r.length;n+=3)for(var a=r[n]<<16|r[n+1]<<8|r[n+2],o=0;o<4;o++)8*n+6*o<=8*r.length?t.push(e.charAt(a>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,a=0;n<r.length;a=++n%4)0!=a&&t.push((e.indexOf(r.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(r.charAt(n))>>>6-2*a);return t}},r.exports=t},163:function(r){function e(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}r.exports=function(r){return null!=r&&(e(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&e(r.slice(0,0))}(r)||!!r._isBuffer)}},243:function(r,e,t){var n,a,o,c,s;n=t(718),a=t(106).utf8,o=t(163),c=t(106).bin,(s=function r(e,t){e.constructor==String?e=t&&"binary"===t.encoding?c.stringToBytes(e):a.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=n.bytesToWords(e),i=8*e.length,u=1732584193,f=-271733879,d=-1732584194,h=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[i>>>5]|=128<<i%32,s[14+(i+64>>>9<<4)]=i;var l=r._ff,g=r._gg,b=r._hh,v=r._ii;for(p=0;p<s.length;p+=16){var y=u,m=f,T=d,S=h;u=l(u,f,d,h,s[p+0],7,-680876936),h=l(h,u,f,d,s[p+1],12,-389564586),d=l(d,h,u,f,s[p+2],17,606105819),f=l(f,d,h,u,s[p+3],22,-1044525330),u=l(u,f,d,h,s[p+4],7,-176418897),h=l(h,u,f,d,s[p+5],12,1200080426),d=l(d,h,u,f,s[p+6],17,-1473231341),f=l(f,d,h,u,s[p+7],22,-45705983),u=l(u,f,d,h,s[p+8],7,1770035416),h=l(h,u,f,d,s[p+9],12,-1958414417),d=l(d,h,u,f,s[p+10],17,-42063),f=l(f,d,h,u,s[p+11],22,-1990404162),u=l(u,f,d,h,s[p+12],7,1804603682),h=l(h,u,f,d,s[p+13],12,-40341101),d=l(d,h,u,f,s[p+14],17,-1502002290),u=g(u,f=l(f,d,h,u,s[p+15],22,1236535329),d,h,s[p+1],5,-165796510),h=g(h,u,f,d,s[p+6],9,-1069501632),d=g(d,h,u,f,s[p+11],14,643717713),f=g(f,d,h,u,s[p+0],20,-373897302),u=g(u,f,d,h,s[p+5],5,-701558691),h=g(h,u,f,d,s[p+10],9,38016083),d=g(d,h,u,f,s[p+15],14,-660478335),f=g(f,d,h,u,s[p+4],20,-405537848),u=g(u,f,d,h,s[p+9],5,568446438),h=g(h,u,f,d,s[p+14],9,-1019803690),d=g(d,h,u,f,s[p+3],14,-187363961),f=g(f,d,h,u,s[p+8],20,1163531501),u=g(u,f,d,h,s[p+13],5,-1444681467),h=g(h,u,f,d,s[p+2],9,-51403784),d=g(d,h,u,f,s[p+7],14,1735328473),u=b(u,f=g(f,d,h,u,s[p+12],20,-1926607734),d,h,s[p+5],4,-378558),h=b(h,u,f,d,s[p+8],11,-2022574463),d=b(d,h,u,f,s[p+11],16,1839030562),f=b(f,d,h,u,s[p+14],23,-35309556),u=b(u,f,d,h,s[p+1],4,-1530992060),h=b(h,u,f,d,s[p+4],11,1272893353),d=b(d,h,u,f,s[p+7],16,-155497632),f=b(f,d,h,u,s[p+10],23,-1094730640),u=b(u,f,d,h,s[p+13],4,681279174),h=b(h,u,f,d,s[p+0],11,-358537222),d=b(d,h,u,f,s[p+3],16,-722521979),f=b(f,d,h,u,s[p+6],23,76029189),u=b(u,f,d,h,s[p+9],4,-640364487),h=b(h,u,f,d,s[p+12],11,-421815835),d=b(d,h,u,f,s[p+15],16,530742520),u=v(u,f=b(f,d,h,u,s[p+2],23,-995338651),d,h,s[p+0],6,-198630844),h=v(h,u,f,d,s[p+7],10,1126891415),d=v(d,h,u,f,s[p+14],15,-1416354905),f=v(f,d,h,u,s[p+5],21,-57434055),u=v(u,f,d,h,s[p+12],6,1700485571),h=v(h,u,f,d,s[p+3],10,-1894986606),d=v(d,h,u,f,s[p+10],15,-1051523),f=v(f,d,h,u,s[p+1],21,-2054922799),u=v(u,f,d,h,s[p+8],6,1873313359),h=v(h,u,f,d,s[p+15],10,-30611744),d=v(d,h,u,f,s[p+6],15,-1560198380),f=v(f,d,h,u,s[p+13],21,1309151649),u=v(u,f,d,h,s[p+4],6,-145523070),h=v(h,u,f,d,s[p+11],10,-1120210379),d=v(d,h,u,f,s[p+2],15,718787259),f=v(f,d,h,u,s[p+9],21,-343485551),u=u+y>>>0,f=f+m>>>0,d=d+T>>>0,h=h+S>>>0}return n.endian([u,f,d,h])})._ff=function(r,e,t,n,a,o,c){var s=r+(e&t|~e&n)+(a>>>0)+c;return(s<<o|s>>>32-o)+e},s._gg=function(r,e,t,n,a,o,c){var s=r+(e&n|t&~n)+(a>>>0)+c;return(s<<o|s>>>32-o)+e},s._hh=function(r,e,t,n,a,o,c){var s=r+(e^t^n)+(a>>>0)+c;return(s<<o|s>>>32-o)+e},s._ii=function(r,e,t,n,a,o,c){var s=r+(t^(e|~n))+(a>>>0)+c;return(s<<o|s>>>32-o)+e},s._blocksize=16,s._digestsize=16,r.exports=function(r,e){if(null==r)throw new Error("Illegal argument "+r);var t=n.wordsToBytes(s(r,e));return e&&e.asBytes?t:e&&e.asString?c.bytesToString(t):n.bytesToHex(t)}}},e={};function t(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return r[n](o,o.exports,t),o.exports}t.d=function(r,e){for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};!function(){t.r(n),t.d(n,{nakedSign:function(){return s},sign:function(){return i}});var r=t(243),e={10:"71d414c0-8fe1-495d-ac55-207414632479",11:"71d414c0-8fe1-495d-ac55-207414632479",20:"59b891d7-8d5a-4993-9b16-37d905a16967",21:"ad5bac4a-2f99-4728-a7e5-818b5770b559",30:"3c0860ff-fabe-436a-ba47-94d42669591b",31:"71d414c0-8fe1-495d-ac55-207414632479",32:"71d414c0-8fe1-495d-ac55-207414632479",33:"71d414c0-8fe1-495d-ac55-207414632479",34:"71d414c0-8fe1-495d-ac55-207414632479",36:"71d414c0-8fe1-495d-ac55-207414632479",37:"71fc1519-41d8-c7f9-f6e2-0a68aae263af",96:"71d414c0-8fe1-495d-ac55-207414632479",302:"71d414c0-8fe1-495d-ac55-207414632479",101:"97741bd7-21bb-4f0d-8b4a-501a089cd208",102:"97741bd7-21bb-4f0d-8b4a-501a089cd208"},a={dev:{37:"11d1193b-ed55-6199-da71-bb7a0454d48e",38:"6a466429-9748-4ffc-939d-c660377959cb"},sit:{37:"f9eea639-6469-637d-c018-07e9c483b3e0",38:"d5340515-55cd-4f29-b32b-7bdef1a50dc8"},uat:{37:"5278e39d-db01-93ea-4a5e-ce8ce4528211",38:"fc96296d-dad7-4a7d-bab9-1cdedcfbc214"},pt:{37:"22e65865-459a-ff8c-f59c-c3381ed76e78",38:"887ebe4f-651c-4064-8f10-e29dea3c8590"},prd:{37:"71fc1519-41d8-c7f9-f6e2-0a68aae263af",38:"318D0AB1-03E0-485E-A476-319C97251D62"}};function o(r){var e=[];for(var t in r)e.push(r[t]);return e}function c(r){var e=[];for(var t in r)e.push(t);return e}var s=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object.assign({data:{},params:{},path:[],headers:{}},t);s.headers.ct=s.headers.ct||10;var i=s.headers.ct,u=t.env,f=e[i];u||(u=s.url.match(/-dev\./)?"dev":s.url.match(/-sit\./)?"sit":s.url.match(/-uat\./)?"uat":s.url.match(/-pt\./)?"pt":"prd"),a[u]&&(f=a[u][i]||e[i]),Array.isArray(s.path)||(s.path=[]);var d={};c(s.params).sort().forEach((function(r){(0===s.params[r]||!0===s.params[r]||!1===s.params[r]||s.params[r])&&(!0===s.params[r]?d[r]=r+"=true":!1===s.params[r]?d[r]=r+"=false":d[r]=r+"="+s.params[r])})),s.params=d;var h={},p=["ct","language","ov","p","sid","token","v","st","nonce"];c(s.headers).sort().filter((function(r){(0===s.headers[r]||s.headers[r])&&p.includes(r)&&(h[r]=r+"="+s.headers[r])})),s.headers=h;var l=[],g=101===i||102===i?"#":"&";if("#"===g&&l.push(o(s.headers).join(g)),s.data){var b=JSON.stringify(s.data);"{}"!==b&&l.push(b)}var v,y=o(s.params).join(g);if(y&&l.push(y),l.push(s.path.join(",")),"&"===g&&l.push(o(s.headers).join(g)),(l=l.filter((function(r){return r&&"{}"!==r}))).length>0){f?l.push("key="+f):console.warn("[WARN] ct=".concat(i," is not in pre-defined keys."));var m=l.join(g);n.debug&&console.log("[DEBUG] @omc/api-signer - plainText: ",m),v=r(m)}return v},i=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};return(r=r||{}).params&&(t.params=r.params),"get"!==r.method.toLowerCase()&&(t.data=r.data),r.channel&&"mini"===r.channel&&("get"!==r.method.toLowerCase()?(t.params={},t.data=r.data):(t.params=r.data,t.data={})),r.pathVars&&(t.path=r.pathVars),t.headers=r.headers||r.header,t.url=r.url,t.env=r.env,s(t,e)};n.default={sign:i,nakedSign:s}}(),module.exports=n;
//# sourceMappingURL=index.js.map