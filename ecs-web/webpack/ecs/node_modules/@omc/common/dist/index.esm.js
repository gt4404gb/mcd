import e from"js-cookie";var a={global:{ct:{PC:10,M:20,WECHAT_MINI:31,ALIPAY_MINI:32,JD:34,IOS:101,ANDROID:102,SOK:302,POSTER:33,B2B:79,_BROWSER:10,_ALIPAY_BROWSER:1001,_WECHAT_BROWSER:1002},channel:{CMA:{value:"01",label:"CMA"},WOS:{value:"02",label:"WOS"},App:{value:"03",label:"App"},NewWeb:{value:"04",label:"NewWeb"},CallCenter:{value:"05",label:"电话订餐"},WeChatMcDMP:{value:"06",label:"微信",backendLabel:"i麦当劳小程序"},WeChatPickupMP:{value:"07",label:"微信",backendLabel:"i麦当劳点餐微信小程序"},AliPayPIckupMP:{value:"08",label:"支付宝",backendLabel:"i麦当劳点餐支付宝小程序"},WeChatDeliveryMP:{value:"09",label:"i麦乐送微信小程序"},WeChatMcCafeMP:{value:"10",label:"i麦咖啡微信小程序"},WeChatDKMP:{value:"11",label:"i甜品站微信小程序"},InStore:{value:"12",label:"线下门店"},POS:{value:"13",label:"POS"},SOK:{value:"14",label:"SOK"},WeChatShelfMP:{value:"15",label:"超值好礼微信小程序"},WeChatGiftMP:{value:"16",label:"麦有礼微信小程序"},WeChatWalletMP:{value:"17",label:"麦钱包余额小程序"},WeChatFamilyMP:{value:"18",label:"麦当劳生日会微信小程序"},MeiTuan:{value:"19",label:"美团"},Eleme:{value:"20",label:"饿了么"},AlibabaiStore:{value:"21",label:"阿里轻店铺"},Douyin:{value:"22",label:"抖音"},AppShelf:{value:"23",label:"App超值好礼"},CRM:{value:"24",label:"CRM"},IRMS:{value:"25",label:"IRMS"},MA:{value:"26",label:"MA"},CMAPoint:{value:"27",label:"CMA积点兑换"},Sandload:{value:"28",label:"非码"},QIY:{value:"29",label:"爱奇艺"},JD:{value:"30",label:"京东"},HuaWei:{value:"31",label:"华为"},Ctrip:{value:"32",label:"携程"},SurveyMP:{value:"33",label:"Survey小程序"},WeChatOA:{value:"34",label:"微信公众号"},WechatH5:{value:"35",label:"微信H5"},QQ:{value:"36",label:"QQ"},ZhongXin:{value:"37",label:"中信"},Tmall:{value:"38",label:"天猫"},Taobao:{value:"39",label:"淘宝"},MeiTuanPickup:{value:"40",label:"美团Pickup"},DianPingPickup:{value:"41",label:"点评Pickup"},AlibabaOffline:{value:"42",label:"口碑线下码"},WeChatCommunity:{value:"43",label:"微信社群"},WeChatAIO:{value:"45",label:"微信"},AlipayAIO:{value:"54",label:"支付宝"}},orderType:{MCD_TAKE_AWAY:{value:1,label:"到店取餐"},MCD_CAFE:{value:2,label:"麦乐送"}}}};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}var n=function(){return n=Object.assign||function(e){for(var a,l=1,n=arguments.length;l<n;l++)for(var t in a=arguments[l])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e},n.apply(this,arguments)};function t(e){if("object"===l(e))return e;var n=e.split("/"),t=n[0],i=n[1];return!(!t||!i)&&a[t][i]}function i(e,a,l){void 0===l&&(l=!1);var n=[],i=t(e);if(!i)return"非法path:"+e;for(var r in Array.isArray(a)||(a=[a]),i)a.includes(i[r].value)&&(l?n.push(i[r].backendLabel||i[r].label):n.push(i[r].label));return n.join(",")}function r(e,a){var l=[],n=t(e);if(!n)return"非法path:"+e;for(var i in Array.isArray(a)||(a=[a]),n)a.includes(n[i].value)&&l.push(n[i].color);return l.join(",")}function o(e,a){var l=[],n=t(e);if(!n)return"非法path:"+e;for(var i in n)l.push({value:n[i].value,label:(null==a?void 0:a.isBackend)&&n[i].backendLabel||n[i].label});return a&&(Array.isArray(a)?l=a.concat(l):a.before?(Array.isArray(a.before)||(a.before=[a.before]),l=a.before.concat(l)):a.after&&(Array.isArray(a.after)||(a.after=[a.after]),l=l.concat(a.after))),(null==a?void 0:a.filters)&&(Array.isArray(null==a?void 0:a.filters)||(a.filters=[null==a?void 0:a.filters]),l=l.filter((function(e){return!!a.filters.includes(e.value)}))),(null==a?void 0:a.excludes)&&(Array.isArray(null==a?void 0:a.excludes)||(a.excludes=[null==a?void 0:a.excludes]),l=!l.filter((function(e){return!!a.excludes.includes(e.value)}))),l}function u(e){return e.map((function(e){var a={};return a.title=e[0],a.key=a.dataIndex=e[1],e[2]&&(a.render=e[2]),"object"===l(e[3])?a=n(n({},a),e[3]):"number"==typeof e[3]&&(a.width=e[3]),a}))}function c(e,a){return void 0===a&&(a=[]),a.forEach((function(a){delete e[a]})),v(e,!0)}function v(e,a){void 0===a&&(a=!1);var l={};if(Object.keys(e).map((function(n){"string"==typeof e[n]&&(e[n]=e[n].trim()),a&&null!==e[n]&&void 0!==e[n]&&(l[n]=e[n])})),a)return l}function b(e){var a=window;a.WebViewJavascriptBridge?e(a.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(a.WebViewJavascriptBridge)}),!1)}function f(e){var a=[];return Object.entries(e).map((function(e){a.push("".concat(e[0],"=").concat(e[1]))})),a.join("&")}function d(e){var a=e.split("&"),l={};return a.forEach((function(e){var a=e.split("="),n=a[0],t=a[1];l[n]=t})),l}function s(e){var l,n=a.global.ct,t=a.global.channel;return e===n.WECHAT_MINI?l=t.WeChatAIO:e===n.ALIPAY_MINI?l=t.AlipayAIO:e===n.IOS||e===n.ANDROID?l=t.App:e===n.JD?l=t.JD:e===n.SOK?l=t.SOK:e!==n.PC&&e!==n.M||(l=t.NewWeb),l}function A(e,l){if(void 0===l&&(l=null),C())return!l||l(!0);var n=a.global.ct,t=window,i="/login/pages/authorize/index?url="+encodeURIComponent(t.location.href);e.ct===n.ALIPAY_MINI?t.my&&(l&&l(!1),t.my.navigateTo({url:i})):e.ct===n.WECHAT_MINI?t.wx&&(l&&l(!1),t.wx.miniProgram.redirectTo({url:i})):[n.PC,n.M,n._BROWSER,n._WECHAT_BROWSER,n._ALIPAY_BROWSER,n.IOS,n.ANDROID].indexOf(e.ct)>-1&&(l&&l(!1),t.location.href="/login")}function p(e,l){var n;void 0===e&&(e=null),void 0===l&&(l=null);var t=e||{},i=a.global.ct;return window.navigator.userAgent.match(/MicroMessenger/)?(null===(n=window.wx)||void 0===n?void 0:n.miniProgram)?window.wx.miniProgram.getEnv((function(e){e.miniprogram&&(t.ct=i.WECHAT_MINI,t.channel=s(t.ct),"function"==typeof l&&l(t))})):t.ct=i._WECHAT_BROWSER:navigator.userAgent.indexOf("AlipayClient")>-1?window.my?window.my.getEnv((function(e){e.miniprogram&&(t.ct=i.ALIPAY_MINI,t.channel=s(t.ct),"function"==typeof l&&l(t))})):t.ct=i._ALIPAY_BROWSER:navigator.userAgent.match(/mcd-ios/)?t.ct=i.IOS:navigator.userAgent.match(/mcd-android/)?t.ct=i.ANDROID:t.ct=i._BROWSER,t.channel=s(t.ct),t.ct&&l(t),t}var m=function(){var e=window.location.hostname,a=e;return e.match(/\.mcd\.cn$/)&&(a=a=".mcd.cn"),e.match(/\.mcdchina\.net$/)&&"local.mcdchina.net"!==e&&(a=".mcdchina.net"),a},y=function(a){var l=m();e.set("sid",a,{expires:30,path:"/",domain:l,secure:".mcdchina.net"===l||".mcd.cn"===l})},h=function(){e.remove("sid",{path:"/",domain:m()})},C=function(){return e.get("sid")},I={constants:a,helpers:{getMCDCookieDomain:m,setSIDCookie:y,removeSIDCookie:h,getSIDCookie:C,connectWebViewJavascriptBridge:b,getEntityColumnLabel:i,getEntityColumnColor:r,getEntityColumnOptions:o,filterEmptyFields:c,sanitizeFields:v,joinObjectToUrlPath:f,splitUrlPathToObject:d,detectChannelAndCT:p,getChannelByClientType:s,transferAntdTableHeaderArray2Object:u,login:A}};export{b as connectWebViewJavascriptBridge,I as default,p as detectChannelAndCT,c as filterEmptyFields,s as getChannelByClientType,r as getEntityColumnColor,i as getEntityColumnLabel,o as getEntityColumnOptions,m as getMCDCookieDomain,C as getSIDCookie,f as joinObjectToUrlPath,A as login,h as removeSIDCookie,v as sanitizeFields,y as setSIDCookie,d as splitUrlPathToObject,u as transferAntdTableHeaderArray2Object};
//# sourceMappingURL=index.esm.js.map
